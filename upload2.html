<!doctype html>
<html lang="en">
<head>
    <!-- Basic Page Needs
     ================================================== -->
    <meta charset="utf-8">
    <title>CAD</title>
    <meta name="description" content="Free Responsive Html5 Css3 Templates ">
    <meta name="author" content="#">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <!-- Mobile Specific Metas
	================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- CSS
	================================================== -->
    <link rel="stylesheet" href="static/css/zerogrid.css">
    <link rel="stylesheet" href="static/css/style.css">
    <link rel="stylesheet" type="text/css" href="static/css/default.css">
    <link href="static/css/fileinput.css" media="all" rel="stylesheet" type="text/css" />
    <!-- Custom Fonts -->
    <link href="static/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="static/css/menu.css">
    <script src="static/js/jquery1111.min.js" type="text/javascript"></script>
    <script src="static/js/script.js"></script>

    <!-- Owl Carousel Assets -->
    <link href="static/owl-carousel/owl.carousel.css" rel="stylesheet">
    <!-- <link href="owl-carousel/owl.theme.css" rel="stylesheet"> -->

    <!--[if lt IE 8]>
    <div style=' clear: both; text-align:center; position: relative;'>
        <a href="http://windows.microsoft.com/en-US/internet-explorer/Items/ie/home?ocid=ie6_countdown_bannercode">
            <img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0000_us.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." />
        </a>
    </div>
    <![endif]-->
    <!--[if lt IE 9]>
    <script src="js/html5.js"></script>
    <script src="js/css3-mediaqueries.js"></script>
    <![endif]-->
    <!--[if IE]>
	<script src="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
    <![endif]-->
    <script>
        function checkUser(){
            document.getElementById("form1").submit();
        }
        function test_file() {
            var myfile = document.getElementById('file-4');
            var filevalue = myfile.value;

            var type = filevalue.substring(index);
            if (type == '.avi'){
                alert("valid file");
            }
            else{
                alert("invalid file");
            }
        }
    </script>
</head>
<body>
    <div id='cssmenu' class="align-center">
        <ul>
            {% if request.session.is_login %}
                <li class="active"><a href='{% url 'index' %}'><span>Home</span></a></li>
                <li><a href='{% url 'single' %}'><span>About Data</span></a></li>
                <li><a href='{% url 'logout' %}'><span>Logout</span></a></li>
                <li class='last'><a href='{% url 'upload' %}'><span>Upload</span></a></li>
                <li class='last'><a href='{% url 'result' %}'><span>Result</span></a></li>
            {% else %}
                <li class="active"><a href='{% url 'index' %}'><span>Home</span></a></li>
                <li><a href='{% url 'single' %}'><span>About Data</span></a></li>
                <li><a href='{% url 'register' %}'><span>Register</span></a></li>
                <li><a href='{% url 'login' %}'><span>login</span></a></li>
            {% endif %}
        </ul>
    </div>
    <header class="">
        <div class="logo">
            <a href="#"><img src="static/images/BMKnowledge.png" /></a>
        </div>
    </header>
	<div class="htmleaf-container">
		<div class="container kv-main">
            <div class="page-header">
                <h2>Please upload a file in video format, the support format is avi. </h2>
                <h2>Due to hardware limitations, we will not save the file you upload</h2>
            </div>
            <form enctype="multipart/form-data" id ='form1' action="video_upload" method="post">
                {% csrf_token %}
                <div class="form-group">
                    <input id="file-4" type="file" name="video_file" class="file" data-upload-url="#">
                </div>
                <hr>
                <div class="form-group">
                    <center><button class="btn btn-warning" type="button" onclick="test_file();">Test File</button>
                    <button class="btn btn-primary" onclick = "checkUser();">Submit</button>
                    <button class="btn btn-default" type="reset">Reset</button></center>
                </div>
                <div>
                    <center><span style="color:red;">{{ file_msg }}</span></center>
                </div>
            </form>
            <hr>
        </div>
	</div>
    <footer>
        <div class="zerogrid wrap-footer">
            <div class="row">
                <div class="col-1-3 col-footer-1">
                    <div class="wrap-col">
                        <h3>About</h3>
                        <a href="#"><img src="static/images/jlu_logo.png" /></a>
                        <p>Ut volutpat consectetur aliquam. Curabitur auctor in nis ulum ornare. Sed consequat, augue condimentum fermentum gravida, metus elit vehicula dui.</p>
                    </div>
                </div>
                <div class="col-1-3 col-footer-2">
                    <div class="wrap-col">
                        <h3>Link</h3>
                        <ul>
                            <li><a href="#">Action</a></li>
                            <li><a href="#">Romantic</a></li>
                            <li><a href="#">Cartoon</a></li>
                            <li><a href="#">Zombies</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="zerogrid copyright">
            <div class="wrapper">
                2019 Â© Knowledge Engineering and Machine Learning Group. All Rights Reserved
            </div>
        </div>
    </footer>
    <!-- carousel -->
    <script src="static/owl-carousel/owl.carousel.js"></script>
    <script>
        $(document).ready(function() {
            $("#owl-slide").owlCarousel({
                autoPlay: 3000,
                items : 2,
                itemsDesktop : [1199,2],
                itemsDesktopSmall : [979,1],
                itemsTablet : [768, 1],
                itemsMobile : [479, 1],
                navigation: true,
                navigationText: ['<i class="fa fa-chevron-left fa-5x"></i>', '<i class="fa fa-chevron-right fa-5x"></i>'],
                pagination: false
            });
        });
    </script>
	<script src="static/js/jquery.min.js"></script>
    <script src="static/js/fileinput.js" type="text/javascript"></script>
    <script src="static/js/bootstrap.min.js" type="text/javascript"></script>
    <script>
	    $("#file-0").fileinput({
	        'allowedFileExtensions' : ['jpg', 'png','gif'],
	    });
	    $("#file-1").fileinput({
	        uploadUrl: '#', // you must set a valid URL here else you will get an error
	        allowedFileExtensions : ['jpg', 'png','gif'],
	        overwriteInitial: false,
	        maxFileSize: 1000,
	        maxFilesNum: 10,
	        //allowedFileTypes: ['image', 'video', 'flash'],
	        slugCallback: function(filename) {
	            return filename.replace('(', '_').replace(']', '_');
	        }
		});
	    /*
	    $(".file").on('fileselect', function(event, n, l) {
	        alert('File Selected. Name: ' + l + ', Num: ' + n);
	    });
	    */
		$("#file-3").fileinput({
			showUpload: false,
			showCaption: false,
			browseClass: "btn btn-primary btn-lg",
			fileType: "any",
	        previewFileIcon: "<i class='glyphicon glyphicon-king'></i>"
		});
		$("#file-4").fileinput({
			uploadExtraData: {kvId: '10'},
			language:'en'
		});
	    $(".btn-warning").on('click', function() {
	        if ($('#file-4').attr('disabled')) {
	            $('#file-4').fileinput('enable');
	        } else {
	            $('#file-4').fileinput('disable');
	        }
	    });    
	    $(".btn-info").on('click', function() {
	        $('#file-4').fileinput('refresh', {previewClass:'bg-info'});
	    });
	    /*
	    $('#file-4').on('fileselectnone', function() {
	        alert('Huh! You selected no files.');
	    });
	    $('#file-4').on('filebrowse', function() {
	        alert('File browse clicked for #file-4');
	    });
	    */
	    $(document).ready(function() {
	        $("#test-upload").fileinput({
	            'showPreview' : false,
	            'allowedFileExtensions' : ['jpg', 'png','gif'],
	            'elErrorContainer': '#errorBlock'
	        });
	        /*
	        $("#test-upload").on('fileloaded', function(event, file, previewId, index) {
	            alert('i = ' + index + ', id = ' + previewId + ', file = ' + file.name);
	        });
	        */
	    });
		</script>
</body>
</html>